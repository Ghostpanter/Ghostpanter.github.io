<!DOCTYPE html><html lang="zh-CN" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>流水易寒の博客</title><meta name="author" content="姬岚忧"><meta name="copyright" content="姬岚忧"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#0d0d0d"><meta name="description" content="不想做开发的运维，不是好运维"><link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/Ghostpanter/tuchuang/img/202212290947085.png"><link rel="canonical" href="https://blog.kkun.site/page/2/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//www.google-analytics.com" crossorigin=""/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="google-site-verification" content="zEdV2SVm14BBjmysMbimJptVuSESoCKhQvg2KGyh3tM"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script async="async" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle = window.adsbygoogle || []).push({
  google_ad_client: 'ca-pub-5936787105308700',
  enable_page_level_ads: 'true'
});</script><script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-RRJTLY81FN"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-RRJTLY81FN');
</script><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '流水易寒の博客',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2023-07-28 17:29:15'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/custom.css"><!-- hexo injector head_end start --><link rel="stylesheet" href="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/clock.min.css" /><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://cdn.jsdelivr.net/gh/Ghostpanter/tuchuang/img/logo.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">69</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">41</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">36</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 文章目录</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div><div class="menus_item"><a class="site-page" target="_blank" rel="noopener" href="https://github.com/Ghostpanter"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('https://cdn.jsdelivr.net/gh/Ghostpanter/tuchuang/img/202212290952165.png')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">流水易寒の博客</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 文章目录</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div><div class="menus_item"><a class="site-page" target="_blank" rel="noopener" href="https://github.com/Ghostpanter"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">流水易寒の博客</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="https://github.com/Ghostpanter" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:18816230062qk@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2023/07/11/%E4%BD%BF%E7%94%A8%20OpenKruise%20%E5%A2%9E%E5%BC%BA%20Kubernetes%20%E5%B7%A5%E4%BD%9C%E8%B4%9F%E8%BD%BD%E4%B9%8B%20CloneSet/" title="使用 OpenKruise 增强 Kubernetes 工作负载之 CloneSet"><img class="post_bg" src="https://cdn.jsdelivr.net/gh/Ghostpanter/tuchuang/img/202301051003635.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="使用 OpenKruise 增强 Kubernetes 工作负载之 CloneSet"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/07/11/%E4%BD%BF%E7%94%A8%20OpenKruise%20%E5%A2%9E%E5%BC%BA%20Kubernetes%20%E5%B7%A5%E4%BD%9C%E8%B4%9F%E8%BD%BD%E4%B9%8B%20CloneSet/" title="使用 OpenKruise 增强 Kubernetes 工作负载之 CloneSet">使用 OpenKruise 增强 Kubernetes 工作负载之 CloneSet</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-07-11T09:12:51.000Z" title="发表于 2023-07-11 17:12:51">2023-07-11</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/kubernetes/">kubernetes</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/kubernetes/OpenKruise/">OpenKruise</a></span></div><div class="content">OpenKruise 是一个基于 Kubernetes 的扩展套件，主要聚焦于云原生应用的自动化，比如部署、发布、运维以及可用性防护。OpenKruise 提供的绝大部分能力都是基于 CRD 扩展来定义的，它们不存在于任何外部依赖，可以运行在任意纯净的 Kubernetes 集群中。Kubernetes 自身提供的一些应用部署管理功能，对于大规模应用与集群的场景这些功能是远远不够的，OpenKruise 弥补了 Kubernetes 在应用部署、升级、防护、运维等领域的不足。
OpenKruise 提供了以下的一些核心能力：

增强版本的 Workloads：OpenKruise 包含了一系列增强版本的工作负载，比如 CloneSet、Advanced StatefulSet、Advanced DaemonSet、BroadcastJob 等。它们不仅支持类似于 Kubernetes 原生 Workloads 的基础功能，还提供了如原地升级、可配置的扩缩容&#x2F;发布策略、并发操作等。其中，原地升级是一种升级应用容器镜像甚至环境变量的全新方式，它只会用新的镜像重建 Pod 中的特定 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/07/11/%E6%B8%90%E8%BF%9B%E5%BC%8F%E4%BA%A4%E4%BB%98%E7%BB%84%E4%BB%B6Kruise%20Rollouts%E4%BD%BF%E7%94%A8/" title="渐进式交付组件 Kruise Rollouts 使用"><img class="post_bg" src="https://tenapi.cn/acg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="渐进式交付组件 Kruise Rollouts 使用"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/07/11/%E6%B8%90%E8%BF%9B%E5%BC%8F%E4%BA%A4%E4%BB%98%E7%BB%84%E4%BB%B6Kruise%20Rollouts%E4%BD%BF%E7%94%A8/" title="渐进式交付组件 Kruise Rollouts 使用">渐进式交付组件 Kruise Rollouts 使用</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-07-11T08:12:51.000Z" title="发表于 2023-07-11 16:12:51">2023-07-11</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/kubernetes/">kubernetes</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/kubernetes/OpenKruise/">OpenKruise</a></span></div><div class="content">Kruise Rollouts是OpenKruise提供的一个旁路组件，用于提供先进的渐进式交付功能。它支持金丝雀、多批次和 A&#x2F;B 测试交付模式，可以帮助实现对应用程序变更的平稳和可控发布，同时它与 Gateway API 和各种 Ingress 实现的兼容性使其更容易与你现有基础架构集成。总的来说，Kruise Rollouts 对于希望优化其部署流程的 Kubernetes 用户来说是一个有价值的工具！
Kruise Rollouts
Kruise Rollouts 具有以下几个主要特点：

更多的发布策略

Deployment、CloneSet、StatefulSet 和 Advanced StatefulSet 的多批次更新策略。

Deployment 的金丝雀更新策略。

更多流量路由管理策略

在更新工作负载时进行流量细粒度加权流量转移。

基于 HTTP 头和 Cookie 进行 A&#x2F;B 测试，根据流量进行转移。

更多流量协议支持

Ingress 控制器集成：NGINX、ALB、Higress。

通过 Gateway API 与服务网格集成 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/07/10/%E4%BD%BF%E7%94%A8%20OpenTelemetry%20Tracing%20%E4%BA%86%E8%A7%A3%E5%BE%AE%E6%9C%8D%E5%8A%A1/" title="使用 OpenTelemetry Tracing 了解您的微服务"><img class="post_bg" src="https://cdn.jsdelivr.net/gh/Ghostpanter/tuchuang/img/202301050959355.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="使用 OpenTelemetry Tracing 了解您的微服务"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/07/10/%E4%BD%BF%E7%94%A8%20OpenTelemetry%20Tracing%20%E4%BA%86%E8%A7%A3%E5%BE%AE%E6%9C%8D%E5%8A%A1/" title="使用 OpenTelemetry Tracing 了解您的微服务">使用 OpenTelemetry Tracing 了解您的微服务</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-07-10T00:52:55.000Z" title="发表于 2023-07-10 08:52:55">2023-07-10</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/kubernetes/">kubernetes</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/kubernetes/ingress/">ingress</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/kubernetes/ingress/opentracing/">opentracing</a></span></div><div class="content">微服务架构具有诸多优势，包括增强团队自主性、提高扩展与部署灵活性。但缺点是，系统中的服务越多（一个微服务应用可能包含几十个甚至几百个服务），清晰地了解系统总体运行情况的难度就越大。作为复杂软件系统的编写者和维护者，我们深知掌握系统运行情况的重要性。可观测性工具可帮助我们清晰地了解众多服务和支持基础设施。

在本教程中，我们将重点介绍微服务应用的一种非常重要的可观测性工具：链路追踪（tracing）。在步入正题之前，让我们先定义一下讨论可观测性时通常会用到的一些术语：

可观测性—仅基于对复杂系统（如微服务应用）的外部输出（如链路追踪、日志和指标）的了解就能获悉其内部状态或状况的能力。

监控—观测并检查对象在一段时间内的进度或状态的能力。例如，您可以监控在高峰时段传入应用的流量，并使用这些信息对应用进行相应的扩展。

遥测—收集指标、链路追踪和日志，并将它们从源点转移到另一个系统进行存储和分析的行为。有时，遥测还指数据本身。

链路追踪—记录请求或操作通过分布式系统所有节点的过程。

Span—一项操作链路追踪中的记录及其相关元数据。链路追踪由许多嵌套的 span 组成。

事件记录& ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/04/13/kubeadm%20%E9%83%A8%E7%BD%B2%20Kubernetes(v1.26.3)%E9%9B%86%E7%BE%A4/" title="kubeadm 部署 Kubernetes(v1.26.3)集群"><img class="post_bg" src="https://cdn.jsdelivr.net/gh/Ghostpanter/tuchuang/img/202301101650972.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="kubeadm 部署 Kubernetes(v1.26.3)集群"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/04/13/kubeadm%20%E9%83%A8%E7%BD%B2%20Kubernetes(v1.26.3)%E9%9B%86%E7%BE%A4/" title="kubeadm 部署 Kubernetes(v1.26.3)集群">kubeadm 部署 Kubernetes(v1.26.3)集群</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-04-13T03:34:33.000Z" title="发表于 2023-04-13 11:34:33">2023-04-13</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/kubernetes/">kubernetes</a></span></div><div class="content">记录并分享最近部署的Kubernetes集群，踩坑记录全部给剔除，并说明不同CRI的方式：docker和containerd。下文不会介绍过多的细节和基础知识，都是生产环境很实用的基本情况，相关命令和解释不会说明。
所谓多节点集群，要求服务器应该有两台或者更多，这里我采用一台是 Master 节点，另两台是 Worker 节点，说明使用 kubeadm 部署 Kubernetes 集群的一些细节和注意点，同时说明生产环境如何添加多 Master 节点和多 Worker 节点。
前期准备（所有节点）



HOST
IP
系统



k8s-master01
172.17.40.174
Ubuntu 22.04.2 LTS


k8s-work01
172.17.40.175
Ubuntu 22.04.2 LTS


k8s-work02
172.17.40.176
Ubuntu 22.04.2 LTS


服务器基础配置123456789101112131415161718192021222324252627282930313233343536373839404142434445464 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/04/13/Kubernetes%20%E5%A4%9A%E9%9B%86%E7%BE%A4%E7%BD%91%E7%BB%9C%E6%96%B9%E6%A1%88%E4%B9%8BSubmariner%20%E4%BB%8B%E7%BB%8D/" title="Kubernetes 多集群网络方案之Submariner 介绍"><img class="post_bg" src="https://cdn.jsdelivr.net/gh/Ghostpanter/tuchuang/img/202301101650972.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kubernetes 多集群网络方案之Submariner 介绍"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/04/13/Kubernetes%20%E5%A4%9A%E9%9B%86%E7%BE%A4%E7%BD%91%E7%BB%9C%E6%96%B9%E6%A1%88%E4%B9%8BSubmariner%20%E4%BB%8B%E7%BB%8D/" title="Kubernetes 多集群网络方案之Submariner 介绍">Kubernetes 多集群网络方案之Submariner 介绍</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-04-13T03:30:33.000Z" title="发表于 2023-04-13 11:30:33">2023-04-13</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/kubernetes/">kubernetes</a></span></div><div class="content">Submariner 是一个完全开源的项目，可以帮助我们在不同的 Kubernetes 集群之间（无论是在本地还是云端）实现网络通信。Submariner 有以下功能：

跨集群的 L3 连接
跨集群的服务发现
Globalnet 支持 CIDR 重叠
提供命令行工具 subctl 简化部署和管理
兼容各种 CNI

1 Submariner 架构
Submariner 由几个主要部分组成：

Broker: 本质上是两个用于交换集群信息的 CRD（Endpoint 和 Cluster），我们需要选择一个集群作为 Broker 集群，其他集群连接到 Broker 集群的 API Server 来交换集群信息：

Endpoint：包含了 Gateway Engine 建立集群间连接需要的信息，例如 Private IP 和 Public IP，NAT 端口等等。

Cluster：包含原始集群的静态信息，例如其 Service 和 Pod CIDR。

Gateway Engine：管理连接到其他集群的隧道。

Route Agent：负责将跨集群的流量路由到 active Gatew ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/04/11/Kubernetes%20Pod%20%E5%A4%9A%E7%BD%91%E5%8D%A1-IP%20%E5%9B%BA%E5%AE%9AUnderlay%20%E7%BD%91%E7%BB%9C%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/" title="Kubernetes Pod 多网卡、IP 固定Underlay 网络解决方案"><img class="post_bg" src="https://cdn.jsdelivr.net/gh/Ghostpanter/tuchuang/img/202301101650972.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kubernetes Pod 多网卡、IP 固定Underlay 网络解决方案"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/04/11/Kubernetes%20Pod%20%E5%A4%9A%E7%BD%91%E5%8D%A1-IP%20%E5%9B%BA%E5%AE%9AUnderlay%20%E7%BD%91%E7%BB%9C%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/" title="Kubernetes Pod 多网卡、IP 固定Underlay 网络解决方案">Kubernetes Pod 多网卡、IP 固定Underlay 网络解决方案</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-04-11T06:50:33.000Z" title="发表于 2023-04-11 14:50:33">2023-04-11</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/kubernetes/">kubernetes</a></span></div><div class="content">01Unnderlay 网络 的 IP 需求随着数据中心私有云的发展，应用希望能直接获取并使用宿主机网络中的 IP 地址，实现在 Underlay 网络下的东西向和南北向通信；同时基于对 IPAM（IP地址管理） 的特殊需求，迫切希望能解决如下的一些诉求：

Pod 多网卡支持


为使 Pod 能通达不同的 Underlay 子网，需给应用的不同网卡分配不同子网下的 IP 地址，社区现有的方案配合 Multus 能分配多网卡 IP 地址，但是不能实现多网卡都固定 IP 地址。



社区现有的多网卡分配 IP 地址方案，还存在多网卡路由协调问题，例如：Pod 的默认路由在网卡 1 上，外部 Client 访问 Pod 网卡 2 的 IP 地址，当外部的源 IP 与 Pod 的网卡 2 不是同网段时，Pod 就会通过默认路由从而走到网卡 1 进行回包，请求向和回复向的转发路径不一致，因此外部的 Client 收不到回包，导致网络不可达。


有状态和无状态应用 IP 固定


Pod 的 IP 地址常常受防火墙策略管控，防火墙只会允许特定的 IP 或者 IP 范围内的目标访问，因此 P ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/04/11/%E4%BD%BF%E7%94%A8Velero%E5%A4%87%E4%BB%BD%E9%83%A8%E7%BD%B2%E5%9C%A8kubernetes%E9%9B%86%E7%BE%A4%E4%B8%ADHarbor%E7%9A%84%E6%95%B0%E6%8D%AE/" title="使用Velero备份部署在kubernetes集群中Harbor的数据"><img class="post_bg" src="https://cdn.jsdelivr.net/gh/Ghostpanter/tuchuang/img/640.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="使用Velero备份部署在kubernetes集群中Harbor的数据"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/04/11/%E4%BD%BF%E7%94%A8Velero%E5%A4%87%E4%BB%BD%E9%83%A8%E7%BD%B2%E5%9C%A8kubernetes%E9%9B%86%E7%BE%A4%E4%B8%ADHarbor%E7%9A%84%E6%95%B0%E6%8D%AE/" title="使用Velero备份部署在kubernetes集群中Harbor的数据">使用Velero备份部署在kubernetes集群中Harbor的数据</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-04-11T00:40:51.000Z" title="发表于 2023-04-11 08:40:51">2023-04-11</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/kubernetes/">kubernetes</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/kubernetes/Harbor/">Harbor</a></span></div><div class="content">  那么，部署在kubernetes集群中的Harbor服务，如何对Harbor的数据进行备份和恢复呢？
  以下教程展示了如何使用 Velero 备份和恢复已使用 Harbor helm 图表部署在 Kubernetes 集群中的 Harbor 实例。


本教程仅备份 Harbor 资源和数据的一个子集，包括所有与 Harbor 相关的 Kubernetes 资源（部署、StatefulSets、Services、ConfigMap 等）以及 Harbor 内部数据库、注册表、chartmuseum、jobservice 和 Trivy 的 PersistentVolumes 中的数据。
Harbor 的 Redis 数据未备份，请参阅限制部分，了解有关对 Harbor 实例的潜在影响的更多详细信息。
本教程中执行的备份是崩溃一致的，而不是应用程序一致的。这意味着恢复后某些数据将丢失，有关详细信息，请参阅限制部分。



一、Velero简介项目地址：https://github.com/vmware-tanzu/velero
Velero 是Heptio公司（已被VMware收购 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/04/10/%E4%BD%BF%E7%94%A8%20Linux%20%E7%BD%91%E7%BB%9C%E8%99%9A%E6%8B%9F%E5%8C%96%E6%8A%80%E6%9C%AF%E6%8E%A2%E7%A9%B6%E5%AE%B9%E5%99%A8%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86/" title="使用 Linux 网络虚拟化技术探究容器网络原理"><img class="post_bg" src="https://cdn.jsdelivr.net/gh/Ghostpanter/tuchuang/img/78162562_p0.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="使用 Linux 网络虚拟化技术探究容器网络原理"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/04/10/%E4%BD%BF%E7%94%A8%20Linux%20%E7%BD%91%E7%BB%9C%E8%99%9A%E6%8B%9F%E5%8C%96%E6%8A%80%E6%9C%AF%E6%8E%A2%E7%A9%B6%E5%AE%B9%E5%99%A8%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86/" title="使用 Linux 网络虚拟化技术探究容器网络原理">使用 Linux 网络虚拟化技术探究容器网络原理</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-04-10T06:38:51.000Z" title="发表于 2023-04-10 14:38:51">2023-04-10</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Linux/">Linux</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Linux/containerd/">containerd</a></span></div><div class="content">在 使用 Go 和 Linux Kernel 技术探究容器化原理 一文中，我们揭秘了容器的本质就是一个特殊的进程，特殊在为其创建了 NameSpace 隔离运行环境，并用 Cgroups 为其控制资源开销。
借助这两个底层技术，我们可以成功实现应用容器化，但如何让多个容器在网络环境不互相干扰的情况下还能互相通信，让容器可以访问外部网络，让外部网络可以访问特定容器等等的这些容器的网络问题还得再利用一些 Linux 网络虚拟化技术。
容器网络隔离：NameSpace让多个容器的网络环境不会互相干扰，可以延续之前 NameSpace 的知识点。
在前面介绍的 8 种 NameSpace 中，有一个 Network NameSpace ，我们可以借助这个来给容器配置独立的网络视图。
我们先看宿主机所处的 Default Network NameSpace ：
123[root@host ~]# readlink /proc/$$/ns/netnet:[4026531956][root@host ~]#

以 net:[4026531956] 为例，net 代表了 NameSpace 的类型，4 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/04/10/%E4%BD%BF%E7%94%A8%20Go%20%E5%92%8C%20Linux%20Kernel%20%E6%8A%80%E6%9C%AF%E6%8E%A2%E7%A9%B6%E5%AE%B9%E5%99%A8%E5%8C%96%E5%8E%9F%E7%90%86/" title="使用 Go 和 Linux Kernel 技术探究容器化原理"><img class="post_bg" src="https://cdn.jsdelivr.net/gh/Ghostpanter/tuchuang/img/84596624_p0.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="使用 Go 和 Linux Kernel 技术探究容器化原理"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/04/10/%E4%BD%BF%E7%94%A8%20Go%20%E5%92%8C%20Linux%20Kernel%20%E6%8A%80%E6%9C%AF%E6%8E%A2%E7%A9%B6%E5%AE%B9%E5%99%A8%E5%8C%96%E5%8E%9F%E7%90%86/" title="使用 Go 和 Linux Kernel 技术探究容器化原理">使用 Go 和 Linux Kernel 技术探究容器化原理</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-04-10T06:31:51.000Z" title="发表于 2023-04-10 14:31:51">2023-04-10</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Linux/">Linux</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Linux/containerd/">containerd</a></span></div><div class="content">容器的优势
传统模式的部署，直接将多个应用运行在物理服务器上，如果其中一个应用占用了大部分资源，可能会导致其他应用的性能下降。
虚拟化部署时代，可以在单个物理服务器的 CPU 上运行多个虚拟机（VM），每个 VM 是一台完整的计算机，在虚拟化硬件之上运行所有组件（包括了操作系统）。因此，可以让不同的应用在 VM 之间安全地隔离运行，更好地利用物理服务器上的资源。
容器与 VM 类似，具有自己的文件系统、CPU、内存、进程空间等，但与 VM 不同的是，容器之间共享操作系统（OS）。 所以，容器被认为是一种轻量级的操作系统层面的虚拟化技术。
相比于 VM ，轻量级的容器更适合云原生模式的实践。
容器的本质
容器是一种轻量级的操作系统层面的虚拟化技术。
重点是 “操作系统层面” ，即容器本质上是利用操作系统提供的功能来实现虚拟化。
容器技术的代表之作 Docker ，则是一个基于 Linux 操作系统，使用 Go 语言编写，调用了 Linux Kernel 功能的虚拟化工具。
为了更好地理解容器的本质，我们来看看容器具体使用了哪些 Linux Kernel 技术，以及在 Go 中应该如何去调 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/04/10/OpenCore%E6%9B%B4%E6%96%B0%E6%AD%A5%E9%AA%A4-%E4%BB%A5OCAuxiliaryTools%E4%B8%BE%E4%BE%8B/" title="OpenCore更新步骤-以OCAuxiliaryTools举例"><img class="post_bg" src="https://api.ixiaowai.cn/api/api.php" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="OpenCore更新步骤-以OCAuxiliaryTools举例"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/04/10/OpenCore%E6%9B%B4%E6%96%B0%E6%AD%A5%E9%AA%A4-%E4%BB%A5OCAuxiliaryTools%E4%B8%BE%E4%BE%8B/" title="OpenCore更新步骤-以OCAuxiliaryTools举例">OpenCore更新步骤-以OCAuxiliaryTools举例</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-04-10T02:40:51.000Z" title="发表于 2023-04-10 10:40:51">2023-04-10</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/MAC/">MAC</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/MAC/OpenCore/">OpenCore</a></span></div><div class="content"> 1.挂载config.plist
2.点击升级
3.全选全部驱动
4.检查kext更新，这一步快慢取决网络环境，检查缓慢尝试退出等个十分钟再多试几次
5.更新Kext
6.选择最新版本或者你想要的版本
7.同步，到这里升级过程基本结束
8.校验这里没有红色感叹号错误提示即可重启完成升级，有红色感叹号点击保存会自动修复错误如果无法自动修复根据提示手动修复

</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/#content-inner">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/#content-inner">7</a><a class="extend next" rel="next" href="/page/3/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://cdn.jsdelivr.net/gh/Ghostpanter/tuchuang/img/logo.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">姬岚忧</div><div class="author-info__description">不想做开发的运维，不是好运维</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">69</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">41</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">36</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Ghostpanter"><i class="fab fa-github"></i><span>Github</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/Ghostpanter" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:18816230062qk@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/07/28/Kubernetes%20Pod%20%E4%B8%AD%E5%AE%B9%E5%99%A8%E7%9A%84%E5%90%AF%E5%8A%A8%E4%BC%98%E5%85%88%E7%BA%A7/" title="Kubernetes Pod 中容器的启动优先级"><img src="https://tenapi.cn/acg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kubernetes Pod 中容器的启动优先级"/></a><div class="content"><a class="title" href="/2023/07/28/Kubernetes%20Pod%20%E4%B8%AD%E5%AE%B9%E5%99%A8%E7%9A%84%E5%90%AF%E5%8A%A8%E4%BC%98%E5%85%88%E7%BA%A7/" title="Kubernetes Pod 中容器的启动优先级">Kubernetes Pod 中容器的启动优先级</a><time datetime="2023-07-28T09:54:33.000Z" title="发表于 2023-07-28 17:54:33">2023-07-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/07/28/Kubernetes%201.27%E5%8E%9F%E5%9C%B0%E8%B0%83%E6%95%B4%20Pod%20%E8%B5%84%E6%BA%90%20(alpha)/" title="Kubernetes 1.27 原地调整 Pod 资源 (alpha)"><img src="https://cdn.jsdelivr.net/gh/Ghostpanter/tuchuang/img/75368085_p0.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kubernetes 1.27 原地调整 Pod 资源 (alpha)"/></a><div class="content"><a class="title" href="/2023/07/28/Kubernetes%201.27%E5%8E%9F%E5%9C%B0%E8%B0%83%E6%95%B4%20Pod%20%E8%B5%84%E6%BA%90%20(alpha)/" title="Kubernetes 1.27 原地调整 Pod 资源 (alpha)">Kubernetes 1.27 原地调整 Pod 资源 (alpha)</a><time datetime="2023-07-28T09:40:33.000Z" title="发表于 2023-07-28 17:40:33">2023-07-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/07/28/%E5%A6%82%E4%BD%95%E7%AE%A1%E7%90%86Docker%E5%AE%B9%E5%99%A8%E5%92%8CKubernetes%20Pod%E7%9A%84DNS/" title="如何管理 Docker 容器和 Kubernetes Pod 的 DNS"><img src="https://api.ixiaowai.cn/api/api.php" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="如何管理 Docker 容器和 Kubernetes Pod 的 DNS"/></a><div class="content"><a class="title" href="/2023/07/28/%E5%A6%82%E4%BD%95%E7%AE%A1%E7%90%86Docker%E5%AE%B9%E5%99%A8%E5%92%8CKubernetes%20Pod%E7%9A%84DNS/" title="如何管理 Docker 容器和 Kubernetes Pod 的 DNS">如何管理 Docker 容器和 Kubernetes Pod 的 DNS</a><time datetime="2023-07-28T03:40:33.000Z" title="发表于 2023-07-28 11:40:33">2023-07-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/07/28/%E4%BC%98%E5%8C%96Kubernetes%20VPA%E7%9A%84%E5%8F%8D%E5%BA%94/" title="优化Kubernetes VPA的反应"><img src="https://api.ixiaowai.cn/api/api.php" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="优化Kubernetes VPA的反应"/></a><div class="content"><a class="title" href="/2023/07/28/%E4%BC%98%E5%8C%96Kubernetes%20VPA%E7%9A%84%E5%8F%8D%E5%BA%94/" title="优化Kubernetes VPA的反应">优化Kubernetes VPA的反应</a><time datetime="2023-07-28T02:40:33.000Z" title="发表于 2023-07-28 10:40:33">2023-07-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/07/28/Pod%20%E5%8E%9F%E5%9C%B0%E5%9E%82%E7%9B%B4%E4%BC%B8%E7%BC%A9/" title="Pod 原地垂直伸缩 - 一个四年的KEP和两年的PR"><img src="https://cdn.jsdelivr.net/gh/Ghostpanter/tuchuang/img/202301051001001.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Pod 原地垂直伸缩 - 一个四年的KEP和两年的PR"/></a><div class="content"><a class="title" href="/2023/07/28/Pod%20%E5%8E%9F%E5%9C%B0%E5%9E%82%E7%9B%B4%E4%BC%B8%E7%BC%A9/" title="Pod 原地垂直伸缩 - 一个四年的KEP和两年的PR">Pod 原地垂直伸缩 - 一个四年的KEP和两年的PR</a><time datetime="2023-07-28T01:50:33.000Z" title="发表于 2023-07-28 09:50:33">2023-07-28</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            <a class="card-more-btn" href="/categories/" title="查看更多">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Ansible/"><span class="card-category-list-name">Ansible</span><span class="card-category-list-count">2</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Ansible/playbook/"><span class="card-category-list-name">playbook</span><span class="card-category-list-count">1</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Ceph/"><span class="card-category-list-name">Ceph</span><span class="card-category-list-count">3</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/CubeFS/"><span class="card-category-list-name">CubeFS</span><span class="card-category-list-count">1</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/CubeFS/ClickHouse/"><span class="card-category-list-name">ClickHouse</span><span class="card-category-list-count">1</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Docker/"><span class="card-category-list-name">Docker</span><span class="card-category-list-count">5</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Linux/"><span class="card-category-list-name">Linux</span><span class="card-category-list-count">8</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Linux/DNS/"><span class="card-category-list-name">DNS</span><span class="card-category-list-count">1</span></a></li></ul></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/Ansible/" style="font-size: 1.25em; color: rgb(26, 139, 51)">Ansible</a><a href="/tags/playbook/" style="font-size: 1.15em; color: rgb(145, 129, 111)">playbook</a><a href="/tags/kubernetes/" style="font-size: 1.45em; color: rgb(98, 87, 136)">kubernetes</a><a href="/tags/CGroups/" style="font-size: 1.15em; color: rgb(87, 162, 52)">CGroups</a><a href="/tags/CICD/" style="font-size: 1.2em; color: rgb(161, 161, 11)">CICD</a><a href="/tags/Gitlab/" style="font-size: 1.15em; color: rgb(122, 21, 81)">Gitlab</a><a href="/tags/Ceph/" style="font-size: 1.3em; color: rgb(96, 19, 119)">Ceph</a><a href="/tags/CoreDns/" style="font-size: 1.15em; color: rgb(84, 116, 122)">CoreDns</a><a href="/tags/CubeFS/" style="font-size: 1.15em; color: rgb(107, 120, 122)">CubeFS</a><a href="/tags/ClickHouse/" style="font-size: 1.15em; color: rgb(8, 178, 153)">ClickHouse</a><a href="/tags/etcd/" style="font-size: 1.2em; color: rgb(53, 86, 188)">etcd</a><a href="/tags/Grafana/" style="font-size: 1.3em; color: rgb(21, 165, 29)">Grafana</a><a href="/tags/Tempo/" style="font-size: 1.2em; color: rgb(152, 176, 34)">Tempo</a><a href="/tags/Linux/" style="font-size: 1.4em; color: rgb(159, 97, 187)">Linux</a><a href="/tags/Jenkins/" style="font-size: 1.15em; color: rgb(20, 45, 42)">Jenkins</a><a href="/tags/Docker/" style="font-size: 1.35em; color: rgb(144, 37, 167)">Docker</a><a href="/tags/OpenKruise/" style="font-size: 1.3em; color: rgb(73, 10, 64)">OpenKruise</a><a href="/tags/MAC/" style="font-size: 1.15em; color: rgb(38, 179, 101)">MAC</a><a href="/tags/OpenCore/" style="font-size: 1.15em; color: rgb(133, 49, 177)">OpenCore</a><a href="/tags/Prometheus/" style="font-size: 1.15em; color: rgb(106, 121, 124)">Prometheus</a><a href="/tags/Harbor/" style="font-size: 1.25em; color: rgb(149, 113, 191)">Harbor</a><a href="/tags/Minio/" style="font-size: 1.2em; color: rgb(129, 88, 159)">Minio</a><a href="/tags/NFS/" style="font-size: 1.2em; color: rgb(7, 45, 53)">NFS</a><a href="/tags/Helm/" style="font-size: 1.2em; color: rgb(189, 141, 182)">Helm</a><a href="/tags/ingress/" style="font-size: 1.2em; color: rgb(74, 142, 149)">ingress</a><a href="/tags/kubectl/" style="font-size: 1.15em; color: rgb(193, 30, 127)">kubectl</a><a href="/tags/Kubelet/" style="font-size: 1.25em; color: rgb(106, 114, 15)">Kubelet</a><a href="/tags/Nginx/" style="font-size: 1.15em; color: rgb(40, 122, 138)">Nginx</a><a href="/tags/PDNS/" style="font-size: 1.15em; color: rgb(181, 194, 43)">PDNS</a><a href="/tags/PVE/" style="font-size: 1.15em; color: rgb(32, 65, 16)">PVE</a><a href="/tags/containerd/" style="font-size: 1.15em; color: rgb(199, 174, 131)">containerd</a><a href="/tags/GO/" style="font-size: 1.15em; color: rgb(147, 4, 103)">GO</a><a href="/tags/Kaniko/" style="font-size: 1.15em; color: rgb(60, 96, 68)">Kaniko</a><a href="/tags/opentracing/" style="font-size: 1.15em; color: rgb(173, 156, 172)">opentracing</a><a href="/tags/Cilium/" style="font-size: 1.15em; color: rgb(81, 19, 198)">Cilium</a><a href="/tags/Kind/" style="font-size: 1.15em; color: rgb(138, 12, 80)">Kind</a><a href="/tags/Mysql/" style="font-size: 1.15em; color: rgb(150, 139, 168)">Mysql</a><a href="/tags/Loki/" style="font-size: 1.2em; color: rgb(19, 77, 197)">Loki</a><a href="/tags/DNS/" style="font-size: 1.15em; color: rgb(73, 189, 187)">DNS</a><a href="/tags/Containerd/" style="font-size: 1.2em; color: rgb(191, 143, 178)">Containerd</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/07/"><span class="card-archive-list-date">七月 2023</span><span class="card-archive-list-count">13</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/04/"><span class="card-archive-list-date">四月 2023</span><span class="card-archive-list-count">9</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/03/"><span class="card-archive-list-date">三月 2023</span><span class="card-archive-list-count">5</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/02/"><span class="card-archive-list-date">二月 2023</span><span class="card-archive-list-count">9</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/01/"><span class="card-archive-list-date">一月 2023</span><span class="card-archive-list-count">18</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/12/"><span class="card-archive-list-date">十二月 2022</span><span class="card-archive-list-count">15</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">69</div></div><div class="webinfo-item"><div class="item-name">已运行时间 :</div><div class="item-count" id="runtimeshow" data-publishDate="2022-12-27T16:00:00.000Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总字数 :</div><div class="item-count">269.5k</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2023-07-28T09:29:13.953Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://cdn.jsdelivr.net/gh/Ghostpanter/tuchuang/img/202212290952165.png')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By 姬岚忧</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="translateLink" type="button" title="简繁转换">简</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>function subtitleType () {
  fetch('https://v1.hitokoto.cn')
    .then(response => response.json())
    .then(data => {
      if (true) {
        const from = '出自 ' + data.from
        const sub = []
        sub.unshift(data.hitokoto, from)
        window.typed = new Typed('#subtitle', {
          strings: sub,
          startDelay: 300,
          typeSpeed: 150,
          loop: true,
          backSpeed: 50,
        })
      } else {
        document.getElementById('subtitle').innerHTML = data.hitokoto
      }
    })
}

if (true) {
  if (typeof Typed === 'function') {
    subtitleType()
  } else {
    getScript('https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js').then(subtitleType)
  }
} else {
  subtitleType()
}
</script></div><div class="aplayer no-destroy" data-id="8017562763" data-server="netease" data-type="playlist" data-fixed="true" data-autoplay="true"> </div><script defer src="https://npm.elemecdn.com/jquery@latest/dist/jquery.min.js"></script><script defer data-pjax src="/js/cat.js"></script><script defer="defer" id="fluttering_ribbon" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-fluttering-ribbon.min.js"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = true;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-show-text.min.js" data-mobile="true" data-text="富强,民主,文明,和谐,自由,平等,公正,法治,爱国,敬业,诚信,友善" data-fontsize="15px" data-random="true" async="async"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><!-- hexo injector body_end start --><script data-pjax>
  function butterfly_clock_anzhiyu_injector_config(){
    var parent_div_git = document.getElementsByClassName('sticky_layout')[0];
    var item_html = '<div class="card-widget card-clock"><div class="card-glass"><div class="card-background"><div class="card-content"><div id="hexo_electric_clock"><img class="entered loading" id="card-clock-loading" src="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/loading.gif" style="height: 120px; width: 100%;" data-ll-status="loading"/></div></div></div></div></div>';
    console.log('已挂载butterfly_clock_anzhiyu')
    if(parent_div_git) {
      parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  }
  var elist = 'null'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var qweather_key = 'b16a1fa0e63c46a4b8f28abfb06ae3fe';
  var gaud_map_key = 'e2b04289e870b005374ee030148d64fd&s=rsv3';
  var baidu_ak_key = 'undefined';
  var flag = 0;
  var clock_rectangle = '119.60681,31.99260';
  var clock_default_rectangle_enable = 'false';

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_clock_anzhiyu_injector_config();
  }
  else if (epage === cpage){
    butterfly_clock_anzhiyu_injector_config();
  }
  </script><script src="https://widget.qweather.net/simple/static/js/he-simple-common.js?v=2.0"></script><script data-pjax src="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/clock.min.js"></script><!-- hexo injector body_end end --></body></html>